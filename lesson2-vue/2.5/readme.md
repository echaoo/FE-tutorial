# Vue 版本5

用Vue实现分页

## 代码实现

在这里我禁不住要感叹一下了, jquery版本里的参数传递已经搞得我眼花缭乱了, 在vue版本里却顺畅无比。

首先先明确一下我们要做的事情: 我们想做一个分页, 怎么实现呢, 我们需要在ajax请求里增加两个参数字段,一个limit, 代表每次请求到的comments条数, 一个是offset, 代表偏移量, 偏离第一个数据的条数, 功能类似于第几页。limit我们可以固定,我们用一个变量来表示:numberPerPage, offset的值为: numberPerPage * (pageNum(当前第几页) - 1),到现在为止, 变量只有一个, 就是pageNum, 通过控制pageNum请求到我们想要的数据。这里有一个问题, 对

我们是通过上一页和下一页的按钮对pageNum进行控制的, 上一页的时候pageNum减一, 请求一次数据, 下一页的时候加一,请求一次数据, 就这么简单, 我们的分页功能就实现了。

最后再来完善一下, 最后一页的时候把下一页隐藏, 第一页的时候把上一页隐藏,做法如下:
我们在两个按钮上添加v-if指令,

而vue可以通过简单的双向数据绑定，取到想取的数据和绑上相应的方法。

当我们取到id，剩下的就是调用接口了，restful接口，通过delete请求相应的url，当返回的count为1的时候说明删除成功。

删除成功后还需要及时更新当前的页面，把删除的数据拿掉，如何处理？再调一遍从服务器获取数据的方法，而这里又可以看到和jquery比的优势，性能更好。

同样的逻辑下，jquery把整个dom列表全删了重新渲染，而vue的迭代会帮我们分析数组的变化，进行增量更新（哪里变了改哪里）。

## 相关资料

Vue.js 基于数据驱动的思想,数据和DOM是绑定在一起的,将表单数据取出,当做post的参数即可。

[官方文档](https://cn.vuejs.org/v2/guide/)

vue-resource是一个第三方的库，为Vue框架封装了发请求和处理回复的功能。类似于jquery的$.ajax()方法。它的功能特点有支持Promise异步处理。

[Github地址](https://github.com/pagekit/vue-resource)

## 服务器端接口说明

同JQuery版4中的说明